var load,loaded,modalAlert,modalCarrito;function initTndForm(){var e=$("[tnd-validate-form] input[type=text],[tnd-validate-form] input[type=email],[tnd-validate-form] textarea,[tnd-validate-form] select,[tnd-validate-form] input[type=checkbox][required]");e.on("invalid",function(e){e.preventDefault();var n=e.currentTarget,a=$(n);t(n),$(a.parent()).addClass("tnd-error-input"),a.closest(".tnd-content-input").find(".tnd-error").remove(),a.after(string(['<div class="tnd-msg-input tnd-error tnd-font-error">',n.validationMessage,"</div>"]))}),e.on("blur",function(e){if(e.currentTarget.checkValidity()){e.preventDefault();var t=e.currentTarget,n=$(t);$(n.parent()).addClass("tnd-success-input"),n.next(".tnd-success").remove(),n.after(string(['<div class="tnd-msg-input tnd-success tnd-font-success">Válido</div>']))}});var t=function(e){$($(e).parent()).removeClass("tnd-success-input"),$(e).next(".tnd-success").remove()};e.on("focus",function(e){var n=e.currentTarget;n.setCustomValidity(""),$($(n).parent()).removeClass("tnd-error-input"),$(n).next(".tnd-error").remove(),t(n)}),$(document).on("mouseenter",".tnd-custom-select.tnd-error-input",function(e){$(e.currentTarget).removeClass("tnd-error-input"),$($(e.currentTarget).parent()).find(".tnd-msg-input").remove()}),$("[data-identification-number]").on("blur",function(e){var t=e.currentTarget;validateIdentificationNumber(t.value)||(t.setCustomValidity("Cédula inválida"),t.checkValidity())}),$("[data-cellphone-validation]").on("blur",function(e){var t=e.currentTarget;new RegExp(/^0[8-9]\d\d\d\d\d\d\d\d$/).test($(this).val())||(t.setCustomValidity("Número celular inválido"),t.checkValidity())}),$("[data-only-numbers]").on("keypress",function(e){var t=e.which||event.keyCode;return t>=48&&t<=57||8==t||9==t}),$("[data-only-letters]").on("keypress",function(e){var t=e.which||event.keyCode;if(8==t||9==t||241==t||209==t)return!0;var n=String.fromCharCode(t);return/^[a-no-z A-NO-Z]$/.test(n)})}function activateElement(e,t){$(e).hasClass("active")?t||$(e).removeClass("active"):$(e).addClass("active")}function gochat(){-1!=navigator.userAgent.toLowerCase().indexOf("opera")&&window.event.preventDefault&&window.event.preventDefault(),this.chat=window.open("https://claroecuador.s1gateway.com/webchat/chat_embed.php?cpgid=10001&nw=1&s1_origin=O.TIENDA","S1Gateway","toolbar=0,scrollbars=0,location=0,status=0,menubar=0,width=380,height=500,resizable=0"),this.chat.focus();var e=screen.availWidth,t=screen.availHeight;this.chat.moveTo(e-380,t-500),this.chat.opener=window}function gochatVentas(){if($(window).width()<=767)infoframe="<iframe class='height-frame' style='width: 100%;' src='https://webchat.miclaro.com.ec/Chat_MiClaroTienda/?usuario_miclaro=TiendaClaro&descripcionChat='></iframe>",modalAlert(infoframe,"Chat de ventas"),$(".modal-footer").addClass("hidden"),$(".jc-modal .modal-content").css("margin-top","0%"),$(".height-frame").css("height","400px");else{-1!=navigator.userAgent.toLowerCase().indexOf("opera")&&window.event.preventDefault&&window.event.preventDefault(),this.chat=window.open("https://webchat.miclaro.com.ec/Chat_MiClaroTienda/?usuario_miclaro=TiendaClaro&descripcionChat=","S1Gateway","toolbar=0,scrollbars=0,location=0,status=0,menubar=0,width=380,height=500,resizable=0"),this.chat.focus();var e=screen.availWidth,t=screen.availHeight;this.chat.moveTo(e-380,t-500),this.chat.opener=window}}$(function(){var e=document.createElement("div");e.className="loader",e.innerHTML=string(['<div class="content">',"<video autoplay loop muted playsinline>",'  <source src="'+rootImg+'images/body/etiquetas/loading.mp4" type="video/mp4">',"</video> ","<p>Procesando, espera unos segundos por favor.</p>","</div>"]),document.body.appendChild(e),load=function(){activateElement(e,!1)},loaded=function(){activateElement(e,!1)},$(".accordeon-container").length>0&&$(".container-accordeon-element").each(function(e,t){$(t).find(".accordeon-element-header:first").on("click",function(e){activateElement($(e.currentTarget).parent(),!1)})}),$(".tnd-tabs li a").on("click",function(e){if(e.preventDefault(),!$(this).parent().hasClass("active")){var t=e.currentTarget;$(".tnd-tabs li").removeClass("active"),activateElement($(t).parent(),!0);var n=$(t).attr("href");$(".tnd-tab-pane").removeClass("show").hide(),$(n).addClass("show").show()}}),$(".accordeon-container:not(.menu) .accordeon-header").click(function(e){e.preventDefault(),$(this).toggleClass("active"),$(this).parent().find(".accordeon-body").slideToggle(),e.stopPropagation()}),$('input[type="checkbox" ][name="regalo"]').change(function(){this.checked?($("div#regalo-options").show(),$(".collapsable-products .product .detail-product").append('<div class="product-regalo"><img src="'+rootImg+'/images/landingmigration/regalo.svg" alt="">Envuelto como regalo</div>')):($("div#regalo-options").hide(),$(".collapsable-products .product .detail-product .product-regalo").remove())}),document.body.insertAdjacentHTML("beforeend",string(['<div class="tnd-modal-container">','<div id="tnd-modal-message" class="tnd-message-modal font-regular tnd-bg-white tnd-pos-rel">','<span class="tnd-close-modal-icon tnd-close-modal active fa-times-circle"></span>','<div class="tnd-modal-header">','<div class="tnd-modal-title">','<img src="'+rootImg+'images/body/icons/ico-title-medium.png">','<span class="tnd-ml-15-xs" id="titleModal"></span>',"</div>","</div>",'<div class="tnd-modal-body"></div>','<div class="tnd-modal-footer">','<button class="tnd-close-modal tnd-btn red tnd-ml-auto-xs min">OK</button>',"</div>","</div>","</div>"]));var t=document.querySelector("#tnd-modal-message .tnd-modal-body"),n=document.querySelector("#tnd-modal-message .tnd-modal-header #titleModal"),a=document.querySelector(".tnd-modal-container");modalAlert=function(e,i=""){t.innerHTML=e,n.innerHTML=i,activateElement(a,!1)},$(".tnd-close-modal").on("click",function(){activateElement(a,!1)}),$("[tnd-validate-form]").length>0&&initTndForm()});var validateIdentificationNumber=function(e){var t=e[2],n=[7,6,5,4,3,2];if(t>=0&&t<=5)return(a=0==(i=e.substring(0,9).split("").reduce(function(e,t,n){var a=t*(n%2==0?2:1);return e+(a<10?a:a-9)},0)%10)?0:10-i)==e[9];if(6==t){var a=0==(i=e.substring(0,8).split("").reduce(function(e,t,a){return e+t*n[(a+4)%6]},0)%11)?0:11-i;return 1!=i&&a==e[8]}if(9==t){var i;a=0==(i=e.substring(0,9).split("").reduce(function(e,t,a){return e+t*n[(a+5)%6]},0)%11)?0:11-i;return 1!=i&&a==e[9]}return!1};function resizeHeight(e,t){$(e).height(t)}function resizeMaxHeight(e){$.each(e,function(e,t){$(e).css("height","auto"),getMaxHeight(e)!=t?(resizeHeight(e,getMaxHeight(e)),sameHeightObject[e]=getMaxHeight(e)):resizeHeight(e,t)})}function getMaxHeight(e){return Math.max.apply(null,$(e).map(function(){return $(this).height()}).get())}var sameHeightObject={},sameHeight=function(){$(window).resize(function(){resizeMaxHeight(sameHeightObject)})},pushSameHeight=function(e){sameHeightObject[e]=getMaxHeight(e),resizeHeight(e,getMaxHeight(e))};if($(".tnd-custom-select").length>0){var x,i,j,selElmnt,a,b,c;for($("[tnd-validate-form] select").on("invalid",function(e){e.preventDefault();var t=e.currentTarget,n=$(t);$(n.parent()).addClass("tnd-error-input"),n.next(".tnd-error").remove(),$(n.parent()).after(string(['<div class="tnd-msg-input tnd-error tnd-font-error">',t.validationMessage,"</div>"]))}),x=document.getElementsByClassName("tnd-custom-select"),i=0;i<x.length;i++)selElmnt=x[i].getElementsByTagName("select")[0],(a=document.createElement("DIV")).setAttribute("class","select-selected"),a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,x[i].appendChild(a),divsElements=createDivsElements(selElmnt),selElmnt.length>0&&x[i].appendChild(divsElements);function createDivsElements(e){for((b=document.createElement("DIV")).setAttribute("class","select-items select-hide"),j=0;j<e.length;j++){(c=document.createElement("DIV")).innerHTML=e.options[j].innerHTML;var t=new Event("change");c.addEventListener("click",function(e){var n,a,i,o,r;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],r=this.parentNode.previousSibling,a=0;a<o.length;a++)if(o.options[a].innerHTML==this.innerHTML){for(o.selectedIndex=a,r.innerHTML=this.innerHTML,n=this.parentNode.getElementsByClassName("same-as-selected"),i=0;i<n.length;i++)n[i].removeAttribute("class");this.setAttribute("class","same-as-selected"),o.dispatchEvent(t);break}r.click()}),b.appendChild(c)}return b}function closeAllSelect(e){var t,n,a,i=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),a=0;a<n.length;a++)e==n[a]?i.push(a):n[a].classList.remove("select-arrow-active");for(a=0;a<t.length;a++)i.indexOf(a)&&t[a].classList.add("select-hide")}$(".select-selected").on("click",document,function(e){$($(this).parent()).next(".tnd-error").remove(),e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}),document.addEventListener("click",closeAllSelect)}function changeCombo(e,t,n){$defaulOption="<option value=''>"+n+"</option></select>",servidor=root,$.ajax({type:"POST",url:root+"getCombo",data:"key="+e,success:function(e){""==e.options?$(t).html($defaulOption):$(t).html(e.options),divsElements=createDivsElements($(t)[0]);var n=$(t).closest(".tnd-custom-select");n.find(".select-items").remove(),n.append(divsElements)},error:function(){$(t).html($defaulOption)}})}var previewTienda=function(e,t){$("#content-general").hide(),window.scrollTo(0,0),$("#previewsContainer,"+e).show(),null!=t&&(location.href=t)};function increment_by_key(e,t){t.trim().length&&(e[t]=void 0===e[t]?1:e[t]+1)}function iterate_f(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t.call(e[n],n,e[n]))break;return e}function sortColors(e){for(var t=0;t<e.length;t++){var n=e[t].hex.substring(1),a=parseInt(n.substring(0,2),16)/255,i=parseInt(n.substring(2,4),16)/255,o=parseInt(n.substring(4,6),16)/255,r=Math.max.apply(Math,[a,i,o]),s=Math.min.apply(Math,[a,i,o]),l=r-s,c=0,d=r,m=0;d>0&&(m=l/d)>0&&(a==r?(c=(i-s-(o-s))/l*60)<0&&(c+=360):i==r?c=120+(o-s-(a-s))/l*60:o==r&&(c=240+(a-s-(i-s))/l*60)),e[t].hue=c,e[t].sat=m,e[t].val=d}return e.sort(function(e,t){return e.hue-t.hue})}function isMobile(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}$("[tnd-fire-preview]").click(function(e){previewTienda($(this).attr("tnd-fire-preview"),$(this).attr("href"))}),$(window).on("load",function(){$("header, main, footer").show(),$("#main-loading").fadeOut(function(){$(this).remove()})}),$("a.amx-back-link").click(function(e){e.preventDefault(),e.stopPropagation(),window.history.back()});var loadVitrinas=async function(e,t,n){var a={templateBefore:(n=n||{}).templateBefore||!1,previewSelector:n.previewSelector||""},i=!1;const o=await fetch(root+"api/vitrinasByType/"+t),r=await o.json();var s=document.querySelector(e);if(null!==s)for(var l=0;l<r.length;l++){var c=document.createElement("div"),d=new Image;d.setAttribute("data-src",rootImg+r[l].routeLg),d.classList.add("tnd-img-resp"),d.classList.add("tnd-visible-sm"),d.classList.add("lazyload");var m=new Image;if(m.setAttribute("data-src",rootImg+r[l].routeSm),m.classList.add("tnd-img-resp"),m.classList.add("tnd-hidden-sm"),m.classList.add("lazyload"),null!==r[l].urlToRedirect&&r[l].urlToRedirect.length>0){var u=document.createElement("a");u.href=root+r[l].urlToRedirect,u.appendChild(d),u.appendChild(m),c.appendChild(u)}else if(c.appendChild(d),c.appendChild(m),null!==r[l].templateHtml&&r[l].templateHtml.length>0){var p=document.createElement("div");p.classList.add("container-form-vitrinas"),null!==r[l].classForm&&p.classList.add(r[l].classForm),p.innerHTML=r[l].templateHtml,a.templateBefore?c.insertAdjacentElement("afterbegin",p):c.appendChild(p);var h=c.querySelector("form");null!==h&&(i=!0,h.addEventListener("submit",function(e){e.preventDefault(),e.currentTarget.checkValidity()&&$.ajax({url:root+e.currentTarget.getAttribute("action"),data:serialize(e.currentTarget),type:"post",cache:!1,beforeSend:function(){load()},success:function(e){e.error,modalAlert(e.msg),loaded()},error:function(){loaded(),modalAlert("Ocurrio un error inesperado, vuelva a intentarlo mas tarde")}})}))}s.appendChild(c)}r.length>1&&$(s).slick({dots:!0,infinite:!0,arrows:!0,autoplay:!0}),i&&initTndForm(),removeBackground(a.previewSelector)};async function loadCatalogo(){$.ajax({url:root+"api/catalogo/",success:function(e){$(".catalogo-home").html(e.itemsCatalog),$(".tnd-catalog").on("change",'input[type="radio"]',function(){$('img[data-equipo="'+$(this).attr("data-equipo")+'"]').hide(),$('img[data-equipo="'+$(this).attr("data-equipo")+'"][data-color="'+$(this).attr("data-target")+'"]').show()})}})}function removeBackground(e){e=e||"";$(".tnd-animated-background"+e).remove()}function serialize(e){if(e&&"FORM"===e.nodeName){var t,n,a=[];for(t=e.elements.length-1;t>=0;t-=1)if(""!==e.elements[t].name)switch(e.elements[t].nodeName){case"INPUT":switch(e.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"checkbox":case"radio":e.elements[t].checked&&a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}break;case"TEXTAREA":a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"SELECT":switch(e.elements[t].type){case"select-one":a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value));break;case"select-multiple":for(n=e.elements[t].options.length-1;n>=0;n-=1)e.elements[t].options[n].selected&&a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].options[n].value))}break;case"BUTTON":switch(e.elements[t].type){case"reset":case"submit":case"button":a.push(e.elements[t].name+"="+encodeURIComponent(e.elements[t].value))}}return a.join("&")}}